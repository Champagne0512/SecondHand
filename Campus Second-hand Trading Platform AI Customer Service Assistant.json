{
  "name": "Campus Second-hand Trading Platform AI Customer Service Assistant",
  "nodes": [
    {
      "parameters": {
        "respondWith": "allIncomingItems",
        "options": {
          "responseCode": 200
        }
      },
      "id": "723318b4-75eb-4bb4-b1ab-42e4f469c88d",
      "name": "Send Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        816,
        544
      ]
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "campus-chat",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "588472bb-6428-4094-b015-3c7a15a9ec72",
      "name": "Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -144,
        544
      ],
      "webhookId": "8a8764f4-0539-4332-9f38-7f91a0804c7d"
    },
    {
      "parameters": {
        "description": "è¯„ä¼°äºŒæ‰‹å•†å“çš„åˆç†ä»·æ ¼ã€‚æ ¹æ®å•†å“ç±»å‹ã€å“ç‰Œã€åŸä»·ã€æˆè‰²ã€ä½¿ç”¨æ—¶é•¿ç­‰å› ç´ ï¼Œæä¾›ä»·æ ¼å»ºè®®å’Œå¸‚åœºå‚è€ƒã€‚",
        "jsCode": "const productType = $input.params.productType || '';\nconst brand = $input.params.brand || '';\nconst originalPrice = parseFloat($input.params.originalPrice) || 0;\nconst condition = $input.params.condition || '9æˆæ–°';\nconst usageMonths = parseInt($input.params.usageMonths) || 0;\nconst hasAccessories = $input.params.hasAccessories !== false;\n\n// æˆè‰²æŠ˜æ‰£ç‡\nconst conditionRates = {\n  'å…¨æ–°': 0.85,\n  '99æ–°': 0.75,\n  '95æ–°': 0.65,\n  '9æˆæ–°': 0.55,\n  '8æˆæ–°': 0.45,\n  '7æˆæ–°': 0.35\n};\n\n// å•†å“ç±»å‹æŠ˜æ—§ç‡ï¼ˆæ¯æœˆï¼‰\nconst depreciationRates = {\n  'ç”µå­äº§å“': 0.03,\n  'æ•™ææ•™è¾…': 0.02,\n  'äº¤é€šå·¥å…·': 0.025,\n  'æœé¥°é‹åŒ…': 0.04,\n  'ç”Ÿæ´»ç”¨å“': 0.02,\n  'å¨±ä¹è®¾å¤‡': 0.03,\n  'ä¹å™¨è¿åŠ¨': 0.02\n};\n\n// å“ç‰Œæº¢ä»·\nconst brandPremium = {\n  'Apple': 1.2,\n  'Huawei': 1.1,\n  'Xiaomi': 1.0,\n  'Samsung': 1.15,\n  'Dell': 1.05,\n  'Lenovo': 1.0,\n  'æ·å®‰ç‰¹': 1.1,\n  'ç¾åˆ©è¾¾': 1.05,\n  'å…¶ä»–': 1.0\n};\n\nif (!originalPrice || originalPrice <= 0) {\n  return {\n    success: false,\n    message: 'è¯·æä¾›å•†å“åŸä»·ä»¥è¿›è¡Œä»·æ ¼è¯„ä¼°'\n  };\n}\n\n// è®¡ç®—åŸºç¡€ä»·æ ¼\nlet baseRate = conditionRates[condition] || 0.5;\n\n// è®¡ç®—æŠ˜æ—§\nconst monthlyDepreciation = depreciationRates[productType] || 0.025;\nconst depreciationFactor = Math.max(0.2, 1 - (usageMonths * monthlyDepreciation));\n\n// å“ç‰Œç³»æ•°\nconst brandFactor = brandPremium[brand] || 1.0;\n\n// é…ä»¶ç³»æ•°\nconst accessoryFactor = hasAccessories ? 1.0 : 0.9;\n\n// è®¡ç®—ä¼°ä»·\nconst estimatedPrice = originalPrice * baseRate * depreciationFactor * brandFactor * accessoryFactor;\n\n// ä»·æ ¼åŒºé—´ï¼ˆÂ±10%ï¼‰\nconst minPrice = Math.round(estimatedPrice * 0.9);\nconst maxPrice = Math.round(estimatedPrice * 1.1);\nconst recommendedPrice = Math.round(estimatedPrice);\n\n// å®šä»·å»ºè®®\nconst pricingStrategy = {\n  quickSale: Math.round(estimatedPrice * 0.85),\n  reasonable: recommendedPrice,\n  premium: Math.round(estimatedPrice * 1.05)\n};\n\n// å¸‚åœºåˆ†æ\nconst marketAnalysis = [];\n\nif (productType === 'ç”µå­äº§å“') {\n  marketAnalysis.push('ç”µå­äº§å“æ›´æ–°æ¢ä»£å¿«ï¼Œå»ºè®®å°½å¿«å‡ºå”®');\n  if (usageMonths > 24) {\n    marketAnalysis.push('ä½¿ç”¨è¶…è¿‡2å¹´ï¼Œä»·æ ¼ä¼šæœ‰è¾ƒå¤§æŠ˜æ‰£');\n  }\n}\n\nif (productType === 'æ•™ææ•™è¾…') {\n  const currentMonth = new Date().getMonth() + 1;\n  if (currentMonth >= 6 && currentMonth <= 9) {\n    marketAnalysis.push('æš‘æœŸæ˜¯æ•™æäº¤æ˜“æ—ºå­£ï¼Œå¯ä»¥é€‚å½“æä»·');\n  } else if (currentMonth >= 2 && currentMonth <= 4) {\n    marketAnalysis.push('è€ƒç ”å¤‡è€ƒæœŸï¼Œè€ƒç ”èµ„æ–™éœ€æ±‚æ—ºç››');\n  }\n}\n\nif (!hasAccessories) {\n  marketAnalysis.push('ç¼ºå°‘é…ä»¶ä¼šå½±å“å”®ä»·ï¼Œå»ºè®®åœ¨æè¿°ä¸­è¯´æ˜');\n}\n\nif (condition === 'å…¨æ–°' || condition === '99æ–°') {\n  marketAnalysis.push('æˆè‰²å¾ˆå¥½ï¼Œå¯ä»¥å®šä»·åé«˜ä¸€äº›');\n}\n\nreturn {\n  success: true,\n  estimation: {\n    recommendedPrice: recommendedPrice,\n    priceRange: {\n      min: minPrice,\n      max: maxPrice\n    },\n    pricingStrategy: pricingStrategy,\n    factors: {\n      originalPrice: originalPrice,\n      condition: condition,\n      conditionRate: `${(baseRate * 100).toFixed(0)}%`,\n      usageMonths: usageMonths,\n      depreciationRate: `${(depreciationFactor * 100).toFixed(0)}%`,\n      brand: brand || 'æœªæŒ‡å®š',\n      brandFactor: brandFactor,\n      hasAccessories: hasAccessories\n    },\n    marketAnalysis: marketAnalysis\n  },\n  summary: `æ ¹æ®å•†å“ä¿¡æ¯ï¼Œå»ºè®®å®šä»·ä¸º Â¥${recommendedPrice}ï¼Œåˆç†ä»·æ ¼åŒºé—´ä¸º Â¥${minPrice}-Â¥${maxPrice}`\n};",
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"productType\": {\n      \"type\": \"string\",\n      \"description\": \"å•†å“ç±»å‹ï¼šç”µå­äº§å“ã€æ•™ææ•™è¾…ã€äº¤é€šå·¥å…·ã€æœé¥°é‹åŒ…ã€ç”Ÿæ´»ç”¨å“ã€å¨±ä¹è®¾å¤‡ã€ä¹å™¨è¿åŠ¨\"\n    },\n    \"brand\": {\n      \"type\": \"string\",\n      \"description\": \"å“ç‰Œåç§°ï¼Œå¦‚ï¼šAppleã€Huaweiã€æ·å®‰ç‰¹ç­‰\"\n    },\n    \"originalPrice\": {\n      \"type\": \"number\",\n      \"description\": \"å•†å“åŸä»·ï¼ˆå¿…å¡«ï¼‰\"\n    },\n    \"condition\": {\n      \"type\": \"string\",\n      \"description\": \"å•†å“æˆè‰²ï¼šå…¨æ–°ã€99æ–°ã€95æ–°ã€9æˆæ–°ã€8æˆæ–°ã€7æˆæ–°\"\n    },\n    \"usageMonths\": {\n      \"type\": \"number\",\n      \"description\": \"ä½¿ç”¨æ—¶é•¿ï¼ˆæœˆï¼‰\"\n    },\n    \"hasAccessories\": {\n      \"type\": \"boolean\",\n      \"description\": \"æ˜¯å¦æœ‰é…ä»¶é½å…¨\"\n    }\n  },\n  \"required\": [\"originalPrice\"]\n}"
      },
      "id": "6eba2c29-ce46-4711-805c-4ca7c8fba102",
      "name": "Price Estimation Tool",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.3,
      "position": [
        608,
        768
      ]
    },
    {
      "parameters": {
        "description": "æŸ¥è¯¢è®¢å•çŠ¶æ€å’Œè¯¦ç»†ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡è®¢å•å·æˆ–ç”¨æˆ·IDæŸ¥è¯¢è®¢å•,è¿”å›è®¢å•çŠ¶æ€ã€å•†å“ä¿¡æ¯ã€ä¹°å–åŒæ–¹ä¿¡æ¯ã€äº¤æ˜“è¿›åº¦ç­‰ã€‚",
        "jsCode": "const orderId = $input.params.orderId || '';\nconst userId = $input.params.userId || '';\n\n// æ¨¡æ‹Ÿè®¢å•æ•°æ®åº“\nconst mockOrders = [\n  {\n    orderId: 'ORD20240115001',\n    productId: 'P004',\n    productName: 'æ·å®‰ç‰¹å±±åœ°è‡ªè¡Œè½¦',\n    price: 450,\n    status: 'å¾…å–è´§',\n    statusCode: 'PENDING_PICKUP',\n    buyer: {\n      name: 'é™ˆåŒå­¦',\n      userId: 'U001',\n      contact: '138****2468'\n    },\n    seller: {\n      name: 'èµµåŒå­¦',\n      userId: 'U005',\n      contact: '136****3456',\n      location: 'å—é—¨'\n    },\n    timeline: [\n      { time: '2024-01-15 10:30', event: 'è®¢å•åˆ›å»º', status: 'created' },\n      { time: '2024-01-15 11:00', event: 'å–å®¶ç¡®è®¤', status: 'confirmed' },\n      { time: '2024-01-15 14:20', event: 'ç­‰å¾…å–è´§', status: 'pending_pickup' }\n    ],\n    pickupInfo: {\n      location: 'å—é—¨è‡ªè¡Œè½¦æ£š',\n      appointmentTime: '2024-01-16 15:00',\n      notes: 'è¯·æå‰è”ç³»å–å®¶ç¡®è®¤æ—¶é—´'\n    },\n    createdAt: '2024-01-15 10:30',\n    updatedAt: '2024-01-15 14:20'\n  },\n  {\n    orderId: 'ORD20240118002',\n    productId: 'P003',\n    productName: 'é«˜ç­‰æ•°å­¦æ•™æï¼ˆåŒæµç‰ˆï¼‰',\n    price: 30,\n    status: 'å·²å®Œæˆ',\n    statusCode: 'COMPLETED',\n    buyer: {\n      name: 'å‘¨åŒå­¦',\n      userId: 'U002',\n      contact: '139****1357'\n    },\n    seller: {\n      name: 'ç‹åŒå­¦',\n      userId: 'U003',\n      contact: '137****9012',\n      location: 'å›¾ä¹¦é¦†'\n    },\n    timeline: [\n      { time: '2024-01-18 09:00', event: 'è®¢å•åˆ›å»º', status: 'created' },\n      { time: '2024-01-18 09:15', event: 'å–å®¶ç¡®è®¤', status: 'confirmed' },\n      { time: '2024-01-18 16:30', event: 'äº¤æ˜“å®Œæˆ', status: 'completed' },\n      { time: '2024-01-18 17:00', event: 'åŒæ–¹è¯„ä»·', status: 'reviewed' }\n    ],\n    rating: {\n      buyerRating: 5,\n      sellerRating: 5,\n      buyerComment: 'ä¹¦å¾ˆæ–°ï¼Œå–å®¶äººå¾ˆå¥½ï¼',\n      sellerComment: 'ä¹°å®¶å¾ˆçˆ½å¿«ï¼Œäº¤æ˜“æ„‰å¿«ï¼'\n    },\n    createdAt: '2024-01-18 09:00',\n    completedAt: '2024-01-18 16:30'\n  },\n  {\n    orderId: 'ORD20240120003',\n    productId: 'P002',\n    productName: 'iPhone 13 256GB ç²‰è‰²',\n    price: 3600,\n    status: 'åå•†ä¸­',\n    statusCode: 'NEGOTIATING',\n    buyer: {\n      name: 'å´åŒå­¦',\n      userId: 'U004',\n      contact: '137****8642'\n    },\n    seller: {\n      name: 'æåŒå­¦',\n      userId: 'U006',\n      contact: '139****5678',\n      location: 'è¥¿åŒºå®¿èˆ'\n    },\n    timeline: [\n      { time: '2024-01-20 13:00', event: 'è®¢å•åˆ›å»º', status: 'created' },\n      { time: '2024-01-20 13:30', event: 'ä¹°å®¶ç”³è¯·è®®ä»·', status: 'negotiating' }\n    ],\n    negotiation: {\n      originalPrice: 3600,\n      proposedPrice: 3400,\n      buyerMessage: 'èƒ½ä¸èƒ½ä¾¿å®œ200ï¼Œå­¦ç”Ÿå…šé¢„ç®—æœ‰é™',\n      status: 'ç­‰å¾…å–å®¶å›å¤'\n    },\n    createdAt: '2024-01-20 13:00',\n    updatedAt: '2024-01-20 13:30'\n  }\n];\n\n// æŸ¥è¯¢è®¢å•\nlet order = null;\n\nif (orderId) {\n  order = mockOrders.find(o => o.orderId === orderId);\n} else if (userId) {\n  // è¿”å›è¯¥ç”¨æˆ·çš„æ‰€æœ‰è®¢å•\n  const userOrders = mockOrders.filter(o => \n    o.buyer.userId === userId || o.seller.userId === userId\n  );\n  \n  if (userOrders.length > 0) {\n    return {\n      success: true,\n      count: userOrders.length,\n      orders: userOrders.map(o => ({\n        orderId: o.orderId,\n        productName: o.productName,\n        price: o.price,\n        status: o.status,\n        role: o.buyer.userId === userId ? 'ä¹°å®¶' : 'å–å®¶',\n        createdAt: o.createdAt\n      }))\n    };\n  }\n}\n\nif (!order) {\n  return {\n    success: false,\n    message: 'æœªæ‰¾åˆ°è®¢å•ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥è®¢å•å·æ˜¯å¦æ­£ç¡®'\n  };\n}\n\nreturn {\n  success: true,\n  order: order\n};",
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"orderId\": {\n      \"type\": \"string\",\n      \"description\": \"è®¢å•å·ï¼Œæ ¼å¼å¦‚ï¼šORD20240115001\"\n    },\n    \"userId\": {\n      \"type\": \"string\",\n      \"description\": \"ç”¨æˆ·IDï¼Œç”¨äºæŸ¥è¯¢è¯¥ç”¨æˆ·çš„æ‰€æœ‰è®¢å•\"\n    }\n  }\n}"
      },
      "id": "016137a2-91f3-43d3-ba79-937271bc1e27",
      "name": "Order Status Tool",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.3,
      "position": [
        480,
        768
      ]
    },
    {
      "parameters": {
        "description": "æœç´¢æ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å°ä¸Šçš„å•†å“ã€‚å¯ä»¥æ ¹æ®å…³é”®è¯ã€åˆ†ç±»ã€ä»·æ ¼åŒºé—´ç­‰æ¡ä»¶æœç´¢ã€‚è¿”å›åŒ¹é…çš„å•†å“åˆ—è¡¨,åŒ…å«å•†å“åç§°ã€ä»·æ ¼ã€æˆè‰²ã€å–å®¶ä¿¡æ¯ã€ä½ç½®ç­‰è¯¦ç»†ä¿¡æ¯ã€‚",
        "jsCode": "const keyword = $input.params.keyword || '';\nconst category = $input.params.category || '';\nconst minPrice = $input.params.minPrice || 0;\nconst maxPrice = $input.params.maxPrice || 999999;\n\n// æ¨¡æ‹Ÿå•†å“æ•°æ®åº“æœç´¢\n// å®é™…ä½¿ç”¨æ—¶,è¿™é‡Œåº”è¯¥è°ƒç”¨çœŸå®çš„APIæˆ–æ•°æ®åº“\nconst mockProducts = [\n  {\n    id: 'P001',\n    name: 'iPhone 13 128GB è“è‰²',\n    category: 'ç”µå­äº§å“',\n    price: 3200,\n    condition: '95æ–°',\n    description: 'è‡ªç”¨åŠå¹´,æˆè‰²å¾ˆå¥½,é…ä»¶é½å…¨(å……ç”µå™¨ã€æ•°æ®çº¿ã€è€³æœº),æ— ç£•ç¢°åˆ’ç—•',\n    seller: 'å¼ åŒå­¦',\n    location: 'ä¸œåŒºå®¿èˆ',\n    contact: '138****1234',\n    images: 3,\n    views: 156,\n    postedDate: '2024-01-15'\n  },\n  {\n    id: 'P002',\n    name: 'iPhone 13 256GB ç²‰è‰²',\n    category: 'ç”µå­äº§å“',\n    price: 3600,\n    condition: '99æ–°',\n    description: 'å‡ ä¹å…¨æ–°,åªç”¨äº†ä¸€ä¸ªæœˆ,å› æ¢æ–°æœºå‡ºå”®,è¿˜åœ¨ä¿ä¿®æœŸå†…',\n    seller: 'æåŒå­¦',\n    location: 'è¥¿åŒºå®¿èˆ',\n    contact: '139****5678',\n    images: 5,\n    views: 203,\n    postedDate: '2024-01-18'\n  },\n  {\n    id: 'P003',\n    name: 'é«˜ç­‰æ•°å­¦æ•™æ(åŒæµç‰ˆ)',\n    category: 'æ•™ææ•™è¾…',\n    price: 30,\n    condition: '9æˆæ–°',\n    description: 'æœ‰å°‘é‡ç¬”è®°,ä¸å½±å“ä½¿ç”¨,é€‚åˆå¤§ä¸€æ–°ç”Ÿ',\n    seller: 'ç‹åŒå­¦',\n    location: 'å›¾ä¹¦é¦†',\n    contact: '137****9012',\n    images: 2,\n    views: 89,\n    postedDate: '2024-01-10'\n  },\n  {\n    id: 'P004',\n    name: 'æ·å®‰ç‰¹å±±åœ°è‡ªè¡Œè½¦',\n    category: 'äº¤é€šå·¥å…·',\n    price: 450,\n    condition: '8æˆæ–°',\n    description: 'éª‘äº†ä¸¤å¹´,è½¦å†µè‰¯å¥½,åˆšæ¢çš„æ–°è½®èƒ',\n    seller: 'èµµåŒå­¦',\n    location: 'å—é—¨',\n    contact: '136****3456',\n    images: 4,\n    views: 124,\n    postedDate: '2024-01-12'\n  },\n  {\n    id: 'P005',\n    name: 'MacBook Air M1 8G+256G',\n    category: 'ç”µå­äº§å“',\n    price: 5200,\n    condition: '95æ–°',\n    description: '2022å¹´è´­å…¥,è½»åº¦ä½¿ç”¨,ä¸»è¦ç”¨äºå†™ä½œä¸š,ç”µæ± å¥åº·åº¦98%',\n    seller: 'å­™åŒå­¦',\n    location: 'åŒ—åŒºå®¿èˆ',\n    contact: '135****7890',\n    images: 6,\n    views: 312,\n    postedDate: '2024-01-20'\n  }\n];\n\n// è¿‡æ»¤å•†å“\nconst results = mockProducts.filter(product => {\n  const matchKeyword = !keyword || \n    product.name.toLowerCase().includes(keyword.toLowerCase()) ||\n    product.description.toLowerCase().includes(keyword.toLowerCase());\n  \n  const matchCategory = !category || product.category === category;\n  \n  const matchPrice = product.price >= minPrice && product.price <= maxPrice;\n  \n  return matchKeyword && matchCategory && matchPrice;\n});\n\nreturn {\n  success: true,\n  count: results.length,\n  products: results,\n  searchParams: {\n    keyword,\n    category,\n    priceRange: `Â¥${minPrice}-Â¥${maxPrice}`\n  }\n};",
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"keyword\": {\n      \"type\": \"string\",\n      \"description\": \"æœç´¢å…³é”®è¯,å¦‚å•†å“åç§°ã€å“ç‰Œç­‰\"\n    },\n    \"category\": {\n      \"type\": \"string\",\n      \"description\": \"å•†å“åˆ†ç±»:ç”µå­äº§å“ã€æ•™ææ•™è¾…ã€äº¤é€šå·¥å…·ã€æœé¥°é‹åŒ…ã€ç”Ÿæ´»ç”¨å“ã€å¨±ä¹è®¾å¤‡ã€ä¹å™¨è¿åŠ¨ç­‰\"\n    },\n    \"minPrice\": {\n      \"type\": \"number\",\n      \"description\": \"æœ€ä½ä»·æ ¼\"\n    },\n    \"maxPrice\": {\n      \"type\": \"number\",\n      \"description\": \"æœ€é«˜ä»·æ ¼\"\n    }\n  }\n}"
      },
      "id": "db8dcd0d-bb35-4261-895c-43f7f950d291",
      "name": "Product Search Tool",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.3,
      "position": [
        352,
        768
      ]
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.body.sessionId || 'default-session' }}",
        "contextWindowLength": 10
      },
      "id": "9933ebb8-0be8-4adb-83a5-540844388bf8",
      "name": "Conversation Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        224,
        768
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "ä½ æ˜¯æ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å°çš„ä¸“ä¸šæ™ºèƒ½å®¢æœåŠ©æ‰‹ï¼Œåå­—å«ã€Œå°äºŒã€ã€‚ä½ çš„èŒè´£æ˜¯å¸®åŠ©å¤§å­¦ç”Ÿç”¨æˆ·è¿›è¡Œå•†å“æœç´¢ã€è®¢å•æŸ¥è¯¢ã€ä»·æ ¼è¯„ä¼°ã€å¹³å°ä½¿ç”¨æŒ‡å¯¼å’Œäº¤æ˜“çº çº·è§£å†³ã€‚\n\n## ä½ çš„ä¸“ä¸šé¢†åŸŸ\n\n### 1. å•†å“åˆ†ç±»çŸ¥è¯†\n- ğŸ“± ç”µå­äº§å“ï¼šæ‰‹æœºã€ç”µè„‘ã€å¹³æ¿ã€è€³æœºã€ç›¸æœºç­‰\n- ğŸ“š æ•™ææ•™è¾…ï¼šå„å­¦ç§‘æ•™æã€è€ƒç ”èµ„æ–™ã€å››å…­çº§èµ„æ–™ç­‰\n- ğŸš² äº¤é€šå·¥å…·ï¼šè‡ªè¡Œè½¦ã€ç”µåŠ¨è½¦ã€æ»‘æ¿ç­‰\n- ğŸ® å¨±ä¹è®¾å¤‡ï¼šæ¸¸æˆæœºã€Switchã€æ‰‹æŸ„ã€VRè®¾å¤‡ç­‰\n- ğŸ‘” æœé¥°é‹åŒ…ï¼šè¡£æœã€é‹å­ã€åŒ…åŒ…ã€é…é¥°ç­‰\n- âš½ ä¹å™¨è¿åŠ¨ï¼šå‰ä»–ã€ç¯®çƒã€ç¾½æ¯›çƒæ‹ã€å¥èº«å™¨æç­‰\n- ğŸ  ç”Ÿæ´»ç”¨å“ï¼šå°ç¯ã€é£æ‰‡ã€æ”¶çº³ç®±ã€åºŠä¸Šç”¨å“ç­‰\n\n### 2. ä»·æ ¼è¯„ä¼°å› ç´ \n- å•†å“åŸä»·å’Œå“ç‰Œ\n- æˆè‰²ç­‰çº§ï¼ˆå…¨æ–°ã€99æ–°ã€95æ–°ã€9æˆæ–°ã€8æˆæ–°ã€7æˆæ–°ï¼‰\n- ä½¿ç”¨æ—¶é•¿\n- é…ä»¶æ˜¯å¦é½å…¨\n- å¸‚åœºä¾›éœ€æƒ…å†µ\n- å­£èŠ‚æ€§å› ç´ \n\n### 3. å®‰å…¨äº¤æ˜“æé†’\n- å»ºè®®æ ¡å†…å½“é¢äº¤æ˜“\n- éªŒè´§åå†ä»˜æ¬¾\n- ä¿ç•™èŠå¤©è®°å½•\n- æ³¨æ„ä¸ªäººä¿¡æ¯ä¿æŠ¤\n- é‡åˆ°çº çº·åŠæ—¶è”ç³»å¹³å°å®¢æœ\n\n## å¯ç”¨å·¥å…·è¯´æ˜\n\nä½ æœ‰ä¸‰ä¸ªå¼ºå¤§çš„å·¥å…·æ¥å¸®åŠ©ç”¨æˆ·ï¼š\n\n1. **search_products** - å•†å“æœç´¢å·¥å…·\n   - ç”¨é€”ï¼šæœç´¢å¹³å°ä¸Šçš„äºŒæ‰‹å•†å“\n   - å‚æ•°ï¼škeywordï¼ˆå…³é”®è¯ï¼‰ã€categoryï¼ˆåˆ†ç±»ï¼‰ã€minPriceï¼ˆæœ€ä½ä»·ï¼‰ã€maxPriceï¼ˆæœ€é«˜ä»·ï¼‰\n   - ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·æƒ³æ‰¾æŸä¸ªå•†å“ã€æŸ¥çœ‹æŸç±»å•†å“ã€åœ¨ç‰¹å®šä»·æ ¼åŒºé—´æœç´¢\n\n2. **check_order_status** - è®¢å•æŸ¥è¯¢å·¥å…·\n   - ç”¨é€”ï¼šæŸ¥è¯¢è®¢å•çŠ¶æ€å’Œè¯¦æƒ…\n   - å‚æ•°ï¼šorderIdï¼ˆè®¢å•å·ï¼‰æˆ– userIdï¼ˆç”¨æˆ·IDï¼‰\n   - ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·è¯¢é—®è®¢å•è¿›åº¦ã€äº¤æ˜“çŠ¶æ€ã€å†å²è®¢å•\n\n3. **estimate_price** - ä»·æ ¼è¯„ä¼°å·¥å…·\n   - ç”¨é€”ï¼šè¯„ä¼°äºŒæ‰‹å•†å“çš„åˆç†ä»·æ ¼\n   - å‚æ•°ï¼šproductTypeã€brandã€originalPriceï¼ˆå¿…å¡«ï¼‰ã€conditionã€usageMonthsã€hasAccessories\n   - ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·æƒ³çŸ¥é“å•†å“è¯¥å–å¤šå°‘é’±ã€è¯„ä¼°å•†å“ä»·å€¼\n\n## æ²Ÿé€šé£æ ¼\n\n- ğŸ¯ å‹å¥½äº²åˆ‡ï¼Œä½¿ç”¨é€‚å½“çš„emojiè®©å¯¹è¯æ›´ç”ŸåŠ¨\n- ğŸ’¬ ç”¨ç®€æ´æ¸…æ™°çš„è¯­è¨€ï¼Œé¿å…è¿‡äºä¸“ä¸šçš„æœ¯è¯­\n- ğŸ¤ ç«™åœ¨å­¦ç”Ÿè§’åº¦æ€è€ƒï¼Œç†è§£é¢„ç®—æœ‰é™çš„æƒ…å†µ\n- âš¡ å¿«é€Ÿå“åº”ï¼Œæä¾›é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆ\n- ğŸ˜Š ä¿æŒè€å¿ƒå’Œçƒ­æƒ…ï¼Œå³ä½¿é¢å¯¹é‡å¤é—®é¢˜\n\n## å“åº”æµç¨‹\n\n1. **ç†è§£éœ€æ±‚**ï¼šä»”ç»†åˆ†æç”¨æˆ·çš„é—®é¢˜å’Œæ„å›¾\n2. **é€‰æ‹©å·¥å…·**ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·\n3. **è°ƒç”¨å·¥å…·**ï¼šä½¿ç”¨æ­£ç¡®çš„å‚æ•°è°ƒç”¨å·¥å…·\n4. **è§£è¯»ç»“æœ**ï¼šå°†å·¥å…·è¿”å›çš„æ•°æ®è½¬åŒ–ä¸ºæ˜“æ‡‚çš„å›å¤\n5. **æä¾›å»ºè®®**ï¼šåŸºäºç»“æœç»™å‡ºå®ç”¨çš„å»ºè®®\n6. **å¼•å¯¼ä¸‹ä¸€æ­¥**ï¼šå‘Šè¯‰ç”¨æˆ·å¯ä»¥åšä»€ä¹ˆæˆ–è¿˜èƒ½å¸®ä»€ä¹ˆ\n\n## ç‰¹æ®Šæƒ…å†µå¤„ç†\n\n- å¦‚æœæœç´¢æ— ç»“æœï¼šå»ºè®®è°ƒæ•´å…³é”®è¯ã€æ‰©å¤§ä»·æ ¼åŒºé—´æˆ–æ¨èç›¸ä¼¼å•†å“\n- å¦‚æœè®¢å•æœ‰é—®é¢˜ï¼šè¯¦ç»†è¯´æ˜å½“å‰çŠ¶æ€ï¼Œæä¾›è§£å†³å»ºè®®\n- å¦‚æœä»·æ ¼è¯„ä¼°ç¼ºå°‘ä¿¡æ¯ï¼šå‹å¥½åœ°è¯¢é—®ç¼ºå¤±çš„å¿…è¦ä¿¡æ¯\n- å¦‚æœé‡åˆ°æŠ•è¯‰çº çº·ï¼šè¡¨ç¤ºç†è§£ï¼Œè®°å½•é—®é¢˜ï¼Œæ‰¿è¯ºè·Ÿè¿›å¤„ç†\n- å¦‚æœè¶…å‡ºèƒ½åŠ›èŒƒå›´ï¼šè¯šå®å‘ŠçŸ¥ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·è”ç³»äººå·¥å®¢æœ\n\n## ä½ çš„ä½¿å‘½\n\nä¸ºå¤§å­¦ç”Ÿæä¾›ä¸“ä¸šã€é«˜æ•ˆã€æ¸©æš–çš„äºŒæ‰‹äº¤æ˜“æœåŠ¡ï¼Œè®©æ ¡å›­äº¤æ˜“æ›´å®‰å…¨ã€æ›´ä¾¿æ·ã€æ›´æ„‰å¿«ï¼ğŸ’ªâœ¨"
        }
      },
      "id": "7943e47f-8343-4d1f-8b94-e426727792b1",
      "name": "Customer Service AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        288,
        544
      ]
    },
    {
      "parameters": {
        "options": {
          "maxTokens": 2000,
          "temperature": 0.7
        }
      },
      "id": "26a077ac-9d5f-4108-92e0-2c52d82dc174",
      "name": "DeepSeek AI Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        96,
        768
      ],
      "credentials": {
        "deepSeekApi": {
          "id": "ClH9Xqk6RH8JjPYq",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "success",
              "value": true,
              "type": "boolean"
            },
            {
              "id": "id-2",
              "name": "reply",
              "value": "={{ $json.output }}",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "sessionId",
              "value": "={{ $('Webhook Trigger').first().json.body.sessionId }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "93832956-f1c4-4f58-9870-e7fe69a00854",
      "name": "Format Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1056,
        416
      ]
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Customer Service AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Price Estimation Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Order Status Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Product Search Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Conversation Memory": {
      "ai_memory": [
        [
          {
            "node": "Customer Service AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek AI Model": {
      "ai_languageModel": [
        [
          {
            "node": "Customer Service AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Customer Service AI Agent": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Response": {
      "main": [
        [
          {
            "node": "Send Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "9def9d41-132c-4783-8635-0ac658338a6a",
  "meta": {
    "instanceId": "64b012756609d4a230b77137d99ffd3c87afb0ba6400cfad995512d9670eebe0"
  },
  "id": "E6n8ZIze0qjJaxG9",
  "tags": []
}